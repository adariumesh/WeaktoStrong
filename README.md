# Weak-to-Strong: AI Supervision Training Platform

> **Phases 8 & 9 Complete! ğŸ‰** Full multi-track platform with Web, Data Science, and Cloud Infrastructure learning paths.

Train AI supervisors, not AI consumers. Learn to supervise AI effectively through hands-on challenges, precision prompting, and verification techniques.

## ğŸš€ **Current Status: Phases 8 & 9 Complete - Full Multi-Track Platform**

**âœ… Phase 0: Project Bootstrap** - Turborepo monorepo with Next.js 14 + FastAPI

**âœ… Phase 1: Authentication System** - NextAuth + FastAPI JWT with OAuth

**âœ… Phase 2: Core UI Layout** - Three-panel resizable layout with Shadcn/ui

**âœ… Phase 3: Challenge System** - Challenge CRUD, display, and test infrastructure

**âœ… Phase 4: Sandbox & Test Execution** - Isolated code execution with test results

**âœ… Phase 5: AI Integration** - Local + Cloud AI with anti-blind-prompting system

**âœ… Phase 5.5: Production Readiness** - Testing infrastructure, monitoring, and scalability

**âœ… Phase 6: Progress & Gamification** - Complete tracking, certificates, and UI

**âœ… Phase 7: Payments & Subscriptions** - Complete Stripe integration with billing management

**âœ… Phase 8: Data Track** - Complete data science challenges with Jupyter and SQL

**âœ… Phase 9: Cloud Track** - Complete cloud infrastructure challenges with AWS/LocalStack

### ğŸ¯ **Latest Completion Highlights:**

**Phase 8 - Data Science Track:**

- **Jupyter Integration**: Complete data science environment with pandas, numpy, scikit-learn
- **SQL Sandbox**: PostgreSQL integration with comprehensive query challenges
- **15 Data Challenges**: Data cleaning â†’ SQL mastery â†’ ML modeling â†’ GDPR compliance
- **Red Team Security**: SQL injection prevention and data privacy challenges

**Phase 9 - Cloud Infrastructure Track:**

- **LocalStack Integration**: Full AWS emulation for cloud development
- **Infrastructure as Code**: Terraform and CloudFormation deployment challenges
- **15 Cloud Challenges**: S3 basics â†’ Kubernetes deployment â†’ security assessment
- **Production Pipelines**: CI/CD, monitoring, and infrastructure security

## ğŸ—ï¸ **Architecture**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND: Next.js 14 + NextAuth + Tailwind         â”‚
â”‚ â”œâ”€ Three-panel resizable layout (Challenge|Work|AI)â”‚
â”‚ â”œâ”€ Multi-track learning interface                  â”‚
â”‚ â””â”€ Real-time progress and gamification UI          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ BACKEND: FastAPI + SQLAlchemy + PostgreSQL          â”‚
â”‚ â”œâ”€ Multi-track challenge system (Web/Data/Cloud)   â”‚
â”‚ â”œâ”€ Progress tracking and certificate generation    â”‚
â”‚ â”œâ”€ Stripe integration for subscriptions            â”‚
â”‚ â””â”€ AI routing with anti-blind-prompting            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SANDBOX ENVIRONMENTS:                               â”‚
â”‚ â”œâ”€ Web: Node.js + Playwright + Lighthouse          â”‚
â”‚ â”œâ”€ Data: Python + Jupyter + pandas + SQL           â”‚
â”‚ â””â”€ Cloud: LocalStack + Terraform + Docker          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ AI INTEGRATION:                                     â”‚
â”‚ â”œâ”€ Local: Ollama + Llama 3.2 8B                    â”‚
â”‚ â”œâ”€ Cloud: Claude Haiku/Sonnet (tier-based)         â”‚
â”‚ â””â”€ Anti-blind-prompting enforcement                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“š **Learning Tracks (45 Total Challenges)**

### ğŸŒ **Web Track (15 Challenges)**

- **Beginner**: HTML/CSS fundamentals, responsive design
- **Intermediate**: JavaScript interactivity, React components
- **Advanced**: Performance optimization, accessibility, PWAs
- **Red Team**: XSS prevention, security audits

### ğŸ“Š **Data Track (15 Challenges)**

- **Beginner**: Data cleaning, SQL basics, data validation
- **Intermediate**: Advanced SQL, aggregations, performance tuning
- **Advanced**: Statistical analysis, ML modeling, A/B testing
- **Red Team**: SQL injection prevention, GDPR compliance

### â˜ï¸ **Cloud Track (15 Challenges)**

- **Beginner**: S3, Lambda, Docker basics
- **Intermediate**: VPC, ECS, Infrastructure as Code
- **Advanced**: Kubernetes, CI/CD, monitoring
- **Red Team**: Security assessment, infrastructure hardening

## ğŸ› ï¸ **Quick Start**

### Prerequisites

- Node.js 18+ and Python 3.11+
- PostgreSQL and Redis (or use Docker)
- GitHub OAuth app configured

### 1. Install Dependencies

```bash
# Root dependencies
npm install

# Backend dependencies
cd backend
python -m pip install -r requirements.txt
cd ..
```

### 2. Environment Setup

```bash
# Frontend (.env.local)
cp apps/web/.env.local.example apps/web/.env.local

# Backend (.env)
cp backend/.env.example backend/.env
```

### 3. Start Services

```bash
# Option A: Docker (recommended)
docker-compose up -d postgres redis

# Option B: Local PostgreSQL & Redis
# (configure connection strings in .env files)
```

### 4. Database Setup

```bash
cd backend
alembic upgrade head
cd ..
```

### 5. Development Servers

```bash
# Start both frontend and backend
npm run dev

# Or individually:
npm run dev:web      # Frontend: http://localhost:3000
npm run dev:backend  # Backend: http://localhost:8000
```

## ğŸ” **Authentication Flow**

### **GitHub OAuth (Working)**

- âœ… OAuth app configured: `Ov23ligZpEMxoOjbXjof`
- âœ… Callback URL: `http://localhost:3000/api/auth/callback/github`
- âœ… Auto-linking to existing accounts by email

### **Email/Password (Working)**

- âœ… bcrypt password hashing
- âœ… Email validation with Pydantic
- âœ… Account verification flow ready

### **JWT Tokens**

- âœ… 15-minute access tokens
- âœ… 7-day refresh tokens
- âœ… Automatic token refresh in NextAuth
- âœ… Rate limiting: 100 requests/hour (free tier)

## ğŸ“Š **API Endpoints (Ready)**

### Authentication

- `POST /api/v1/auth/register` - User registration
- `POST /api/v1/auth/login` - Email/password login
- `POST /api/v1/auth/refresh` - Token refresh
- `POST /api/v1/auth/logout` - User logout
- `GET /api/v1/auth/me` - Current user info
- `POST /api/v1/auth/oauth/github` - GitHub OAuth handler

### Health & Info

- `GET /` - API status
- `GET /health` - Health check
- `GET /docs` - OpenAPI documentation

## ğŸ§ª **Testing**

```bash
# Test backend auth utilities
cd backend
python test_auth_endpoints.py

# Test API endpoints
python -c "from fastapi.testclient import TestClient; from main import app; print(TestClient(app).get('/health').json())"

# Test frontend build
npm run build

# Run linting
npm run lint              # Frontend
cd backend && ruff check . # Backend
```

## ğŸ“ **Project Structure**

```
weak-to-strong/
â”œâ”€â”€ apps/web/                    # Next.js frontend
â”‚   â”œâ”€â”€ app/(auth)/             # Auth pages
â”‚   â”‚   â”œâ”€â”€ signin/page.tsx     # Login form
â”‚   â”‚   â””â”€â”€ signup/page.tsx     # Registration form
â”‚   â”œâ”€â”€ app/dashboard/          # Protected dashboard
â”‚   â”œâ”€â”€ lib/auth.ts             # NextAuth configuration
â”‚   â””â”€â”€ middleware.ts           # Route protection
â”œâ”€â”€ backend/                    # FastAPI backend
â”‚   â”œâ”€â”€ app/api/v1/auth.py      # Auth endpoints
â”‚   â”œâ”€â”€ app/core/               # Core utilities
â”‚   â”‚   â”œâ”€â”€ auth.py             # JWT & password utils
â”‚   â”‚   â”œâ”€â”€ database.py         # Database connection
â”‚   â”‚   â””â”€â”€ deps.py             # FastAPI dependencies
â”‚   â”œâ”€â”€ app/models/             # SQLAlchemy models
â”‚   â”‚   â”œâ”€â”€ user.py             # User model
â”‚   â”‚   â””â”€â”€ session.py          # Session model
â”‚   â”œâ”€â”€ app/schemas/            # Pydantic schemas
â”‚   â””â”€â”€ alembic/                # Database migrations
â”œâ”€â”€ docker-compose.yml          # Local development services
â”œâ”€â”€ scripts/                    # Setup automation
â””â”€â”€ .github/workflows/          # CI/CD pipeline
```

## ğŸ¯ **Next Phase: Core UI Layout**

**Phase 2 Goals:**

- Three-panel resizable layout (Challenge | Workspace | Resources)
- Shadcn/ui component library integration
- Responsive design with mobile-first approach
- Dark mode support with theme persistence

## ğŸ”§ **Development Commands**

```bash
# Start everything
npm run dev               # Both servers + watch mode
npm run dev:web          # Frontend only (port 3000)
npm run dev:backend      # Backend only (port 8000)

# Building & Testing
npm run build            # Build all packages
npm run lint             # Lint all code
npm run typecheck        # TypeScript checking

# Backend specific
cd backend
python test_auth_endpoints.py  # Test auth utilities
uvicorn main:app --reload      # Start backend manually
alembic revision --autogenerate -m "description"  # New migration
alembic upgrade head           # Apply migrations

# Database
docker-compose up -d postgres redis  # Start services
docker-compose down               # Stop services
```

## ğŸ“ **Environment Variables**

### Frontend (apps/web/.env.local)

```bash
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-secret-here
GITHUB_ID=Ov23ligZpEMxoOjbXjof
GITHUB_SECRET=505e9d69ab3d0abae46b9f02ac15c09a7a03ec2d
NEXT_PUBLIC_API_URL=http://localhost:8000
```

### Backend (backend/.env)

```bash
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/weaktostrong
REDIS_URL=redis://localhost:6379
JWT_SECRET=your-jwt-secret-here
JWT_ACCESS_EXPIRE_MINUTES=15
JWT_REFRESH_EXPIRE_DAYS=7
GITHUB_ID=Ov23ligZpEMxoOjbXjof
GITHUB_SECRET=505e9d69ab3d0abae46b9f02ac15c09a7a03ec2d
```

## ğŸ“š **Additional Documentation**

- `CLAUDE_MEMORY.md` - Architecture & technical specifications
- `DEVELOPMENT_PLAN.md` - 9-phase systematic development plan
- `ENV_TEMPLATE.md` - Complete environment variable guide
- `AI_PROMPTS.md` - System prompts for AI features
- `CHALLENGE_CONTENT.md` - Challenge specifications

---

**ğŸ‰ Ready to test the complete authentication flow!**

Visit `http://localhost:3000` after running `npm run dev` to test GitHub OAuth and email registration.
